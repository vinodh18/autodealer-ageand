<!-- Forms General Header -->
<div class="bg-light lter b-b wrapper-md">
    <h1 class="m-n font-thin h3 text-black">Change Password</h1>
    <small class="text-muted">Change Password</small>
</div>
<!-- <ul class="breadcrumb bg-white b-a">
	<li><i class="fa fa-stumbleupon icon text-info-dker"></i> Change Password</li>
	<li>Change Password</li>
</ul> -->
<!-- END Forms General Header -->

<div class="wrapper-md" ng-init="initChangePassword()">
    <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>
    <form name="ChangePasswordForm" action="#" ng-submit = "changePassword()" method="post" enctype="multipart/form-data" class="form-horizontal form-validation" onsubmit="return false;">	    	
    	<div class="panel panel-default">
            <div class="panel-heading font-bold">
                Change Password
            </div>
            <div class="panel-body">
            	<div class="form-group" ng-class="{'has-error':ChangePasswordForm.old_password.$invalid && !ChangePasswordForm.old_password.$pristine }">
					<label class="col-sm-3 control-label"> Old Password <span style="color:red">*</span></label>
					<div class="col-sm-9">
						<input ng-model="user.old_password" type="password" name="old_password"
							class="form-control" placeholder="Old Password" required />
						<p ng-show="ChangePasswordForm.old_password.$invalid && !ChangePasswordForm.old_password.$pristine" class="help-block m-b-none">old password is required.</p>
					</div>
				</div> 
				<div class="line line-dashed b-b line-lg pull-in"></div>
            	<div class="form-group" ng-class="{'has-error':ChangePasswordForm.new_password.$invalid && !ChangePasswordForm.new_password.$pristine }">
					<label class="col-sm-3 control-label" for="example-email-input"> New Password <span style="color:red">*</span></label>
					<div class="col-sm-9">
						<input ng-model="user.new_password" type="password" name="new_password"
							class="form-control" placeholder="New Password" required ng-minlength="8"
							ng-maxlength="15" equals="{{user.confirm_password}}" />
						<p
							ng-show="ChangePasswordForm.new_password.$invalid && !ChangePasswordForm.new_password.$pristine && ChangePasswordForm.new_password.$error.required"
							class="help-block">Password is required.</p>
						<p ng-show="ChangePasswordForm.new_password.$error.minlength" class="help-block">Password
							is too short. Min. 8 chars.</p>
						<p ng-show="ChangePasswordForm.new_password.$error.maxlength" class="help-block">Password
							is too long. Max. 15 chars.</p>
					</div>
				</div>

				<div class="line line-dashed b-b line-lg pull-in"></div>
				<div class="form-group" ng-class="{'has-error':ChangePasswordForm.confirm_password.$invalid && !ChangePasswordForm.confirm_password.$pristine }">
					<label class="col-sm-3 control-label" for="example-email-input"> Confirm Password <span style="color:red">*</span></label>
					<div class="col-sm-9">			
				      <input type="password" class="form-control" name="confirm_password" placeholder="Confirm Password" required ng-model="user.confirm_password" ui-validate=" '$value==user.new_password' " ui-validate-watch=" 'user.new_password' ">
				      <p ng-show='ChangePasswordForm.confirm_password.$error.validator' class="help-block"><span style="color:red">Passwords do not match!</span></p>
					</div>
				</div>
				<div class="line line-dashed b-b line-lg pull-in"></div>              
            </div>
			
            <footer class="panel-footer text-right bg-light lter">
              <button type="submit" class="btn btn-success" ng-disabled="ChangePasswordForm.$invalid"> <i class="fa fa-save"></i> Submit</button>
               <button type="reset" class="btn btn-warning">
                <i class="fa fa-repeat"></i> Reset</button>
            </footer>
        </div>    			
	</form>
</div>